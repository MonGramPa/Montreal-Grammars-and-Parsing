<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Notes on Harkema (2001:§3.2)</title>

    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/node_modules/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="/node_modules/codemirror/theme/neat.css">
    <link rel="stylesheet" href="/assets/css/katex.min.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    <link rel="stylesheet" href="/assets/css/code.css">

    <script src="/assets/js/webchurch.min.js"></script>
    <script src="/assets/js/katex.min.js"></script>
    <script src="/bower_components/jquery/dist/jquery.min.js"></script>
    <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/node_modules/codemirror/lib/codemirror.js"></script>
    <script src="/node_modules/codemirror/mode/javascript/javascript.js"></script>
    <script src="/assets/js/cm-folding.js"></script>
    <script src="/assets/js/cm-comments.js"></script>
    <script src="/assets/js/webppl.min.js"></script>
    <script src="/bower_components/jquery-autosize/jquery.autosize.min.js"></script>
    <script src="/bower_components/d3/d3.min.js"></script>
    <script src="/bower_components/vega/vega.min.js"></script>
    <!-- <script src="https://probmods.org/webchurch/online/vega.min.js"></script> -->
    <script src="/bower_components/underscore/underscore.js"></script>
    <script src="/bower_components/react/JSXTransformer.js"></script>
    <script src="/bower_components/react/react-with-addons.min.js"></script>
    <script src="/bower_components/showdown/compressed/showdown.js"></script>
    <script src="/assets/js/custom.js"></script>
    <script type="text/jsx" src="/assets/js/editor.js"></script>

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>

    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">Montreal Grammars and Parsing Project</a>
        </div>
        <ul class="nav navbar-nav navbar-right collapse navbar-collapse">
            <li><a href="/editor.html">Editor</a></li>
        </ul>
      </div>

    </div>

    <div class="container">

      <div class="page-header">
  <h1>Notes on Harkema (2001:§3.2)</h1>
</div>

<h1 id="multiple-context-free-grammars">Multiple Context-Free Grammars</h1>

<h4 id="harkema-hendrik-2001-parsing-minimalist-languages-phd-thesis-university-of-california-los-angeles">Harkema, Hendrik (2001). “Parsing Minimalist Languages”. PhD thesis. University of California, Los Angeles.</h4>

<h4 id="notes-by-chris-bruno-may-28-2017">Notes by Chris Bruno, May 28, 2017</h4>

<ul>
  <li>Three formalisms:
    <ol>
      <li>Minimalist Grammars (MG)</li>
      <li>Generalized Context-Free Grammars (GCFG)</li>
      <li><script type="math/tex">m</script>-Multiple Context-Free Grammars (MCFG)</li>
    </ol>
  </li>
</ul>

<!-- TODO -->
<ul>
  <li><strong>Hierarchy (weak).</strong> MCFG <script type="math/tex">\equiv</script>  MG <script type="math/tex">\subset</script> GCFG (Weir 1988, Michaelis 1998, Harkema 2001)</li>
</ul>

<h1 id="generalized-context-free-grammars">Generalized Context-Free Grammars</h1>

<p><strong>Definition.</strong> A Generalized Context-Free Grammar is a quintuple <script type="math/tex">G = (N, O, F, R, S)</script> for which the following five conditions hold:</p>

<ol>
  <li><script type="math/tex">N</script> is a set of non-terminals.</li>
  <li><script type="math/tex">O</script> is a set of finite strings over a set of terminals <script type="math/tex">\Sigma</script> which is disjoint with <script type="math/tex">N</script> (<script type="math/tex">O \subseteq \bigcup_{n \in \mathbb{N}^+}(\Sigma^*)^n</script>).</li>
  <li><script type="math/tex">F</script> is a set of partial functions from finite products of <script type="math/tex">O</script> to <script type="math/tex">O</script> (<script type="math/tex">F \subseteq \bigcup_{n \in \mathbb{N}}F_n</script>, where <script type="math/tex">F_n</script> is the set of partial functions from <script type="math/tex">O^n</script> to <script type="math/tex">O</script>.</li>
  <li><script type="math/tex">R</script> is a set of rewriting rules (<script type="math/tex">R \subseteq \bigcup_{n \in \mathbb{N}}((F_n \cap F) \times N^{n+1})</script>).</li>
  <li><script type="math/tex">S \in N</script> is the distinguished start symbol.</li>
</ol>

<p>(where <script type="math/tex">N, O, F, R, \Sigma</script> are finite and non-empty)</p>

<p><strong>Notation.</strong> A rule <script type="math/tex">r = (g, A, B_1, \ldots, B_n) \in (F_n \cap F) \times N^{n+1}</script> is written <script type="math/tex">A \to g[B_1, \ldots, B_n]</script> if <script type="math/tex">n > 0</script>; and <script type="math/tex">A \to g</script> if <script type="math/tex">n = 0</script>.</p>

<p><strong>Terminology.</strong> If <script type="math/tex">n > 0</script> then <script type="math/tex">r</script> is called a <em>non-terminating rule</em>. If <script type="math/tex">n = 0</script> then <script type="math/tex">r</script> is called a <em>terminating rule</em>.</p>

<p><strong>Definitions.</strong> Defining the language generated by a GCFG.</p>

<ol>
  <li>The <em>language derivable from <script type="math/tex">A</script> in <script type="math/tex">G</script></em> is <script type="math/tex">L_G(A) = \bigcup_{k \in \mathbb{N}}L_G^k(A)</script> where <script type="math/tex">L_G^k(A) \subseteq O</script> (the language derivable from <script type="math/tex">A</script> in <script type="math/tex">k</script> steps) is defined recursively:
    <ol>
      <li>If <script type="math/tex">R</script> contains a terminating rule <script type="math/tex">A \to g</script> then <script type="math/tex">g \in L_G^0(A)</script>.</li>
      <li>If <script type="math/tex">\theta \in L_G^k(A)</script> then <script type="math/tex">\theta \in L_G^{k+1}(A)</script>.</li>
      <li>If <script type="math/tex">R</script> contains a non-terminating rule <script type="math/tex">A \to g[B_1, \ldots, B_n]</script> and <script type="math/tex">\theta_i \in L_G^k(B_i), 1 \leq i \leq n</script> and <script type="math/tex">g(\theta_1, \ldots, \theta_n)</script> is defined, then <script type="math/tex">g(\theta_i, \ldots, \theta_n) \in L_G^{k+1}(A)</script>.</li>
    </ol>
  </li>
  <li>The <em>language generated by <script type="math/tex">G</script></em> is <script type="math/tex">L(G) = L_G(S)</script>.</li>
</ol>

<h1 id="m-multiple-context-free-grammars"><script type="math/tex">m</script>-Multiple Context-Free Grammars</h1>

<p><strong>Definition.</strong> For any <script type="math/tex">m \in \mathbb{N^+}</script>, an <script type="math/tex">m</script>-Multiple Context-Free Grammar is a Generalized Context-Free Grammar <script type="math/tex">G = (N, O, F, R, S)</script> which satisfies these conditions:</p>

<ol>
  <li>The dimension of the tuples in <script type="math/tex">O</script> is bounded by <script type="math/tex">m</script>: <script type="math/tex">O = \bigcup_{i=1}^m(\Sigma^*)^+</script>.</li>
  <li>If <script type="math/tex">g \in F</script>, let <script type="math/tex">n(g) \in \mathbb{N}</script> be the number of arguments of <script type="math/tex">g</script>. For any <script type="math/tex">g \in F</script>, these three conditions hold:
    <ol>
      <li>The dimension of the result of <script type="math/tex">g</script> and the dimensions of the arguments of <script type="math/tex">g</script> are fixed: there exist natural numbers <script type="math/tex">r(g), d_i(g), 1 \leq i \leq n(g)</script> such that <script type="math/tex">g: (\Sigma^*)^{d_i(g)} \times \cdots \times (\Sigma^*)^{d_{n(g)}(g)} \to (\Sigma^*)^{r(g)}</script>.</li>
      <li>The output of <script type="math/tex">g</script> has a fixed effect. Let <script type="math/tex">X = \{x_{ij} | 1 \leq i \leq n(g), 1 \leq j \leq d_i(g)\}</script> be a set of pairwise distinct variables, and let <script type="math/tex">x_i = (x_{i1}, \ldots, x_{id_i(g)})</script>. Then <script type="math/tex">g(x_1, \ldots x_{n(g)}) = (\theta_1, \ldots, \theta_{r(g)})</script> where each <script type="math/tex">\theta_h</script> is of the form
 <script type="math/tex">\theta_h = \alpha_{h0}z_{h1}\alpha_{h1} \ldots z_{hl_h(g)}\alpha_{hl_h(g)}</script>
 where <script type="math/tex">\alpha_{hl} \in \Sigma^*, z_{hl} \in X; 1 \leq l \leq l_h(g)</script> for some fixed <script type="math/tex">l_h(g) \in \mathbb{N}</script>.</li>
      <li>(<em>anti-copying condition</em>) If <script type="math/tex">g(x_1, \ldots x_{n(g)}) = (\theta_1, \ldots, \theta_{r(g)})</script> then each the representation of each <script type="math/tex">\theta_h</script> has no duplicate variables: for each pair <script type="math/tex">(i, j)</script>, there is at most one <script type="math/tex">h</script> and at most one <script type="math/tex">l</script> such that <script type="math/tex">z_{hl}</script> in the representation of <script type="math/tex">\theta_h</script> is the variable <script type="math/tex">x_{ij} \in X</script>.</li>
    </ol>
  </li>
  <li>The dimension of any non-terminal symbol <script type="math/tex">A \in N</script> is fixed with respect to <script type="math/tex">r</script> and <script type="math/tex">d_i</script>: there is a natural number <script type="math/tex">d(A)</script> such that for any rule <script type="math/tex">A \to g[B_1, \ldots, B_{n(g)}], r(g) = d(A), d_i(g) = d(B_i)</script>.</li>
  <li><script type="math/tex">d(S) = 1</script>.</li>
</ol>

<p><strong>Summary.</strong> Importantly, the definition of MCFGs defines these natural numbers as bounds:</p>

<ol>
  <li><script type="math/tex">m</script>: the maximum size of any tuple in <script type="math/tex">O</script>. 2. <script type="math/tex">n(g)</script>: the amount of arguments for each <script type="math/tex">g \in F</script>.</li>
  <li><script type="math/tex">d_i(g)</script>: the size of each argument <script type="math/tex">i, 1 \leq i \leq n(g)</script> of each <script type="math/tex">g \in F</script>. Recall that each argument of <script type="math/tex">g</script> is a tuple drawn from <script type="math/tex">O</script>.</li>
  <li><script type="math/tex">r(g)</script>: the size of the output of <script type="math/tex">g(\theta)</script> for each <script type="math/tex">g \in F</script>. Recall that the output of <script type="math/tex">g</script> is a tuple drawn from <script type="math/tex">O</script>.</li>
  <li><script type="math/tex">l_h(g)</script>: the amount of variable-string pairs in the output of <script type="math/tex">g(\theta)</script> for each <script type="math/tex">g \in F</script>.</li>
  <li><script type="math/tex">d(A)</script>: the dimension of each <script type="math/tex">A \in N</script>.</li>
</ol>

<p><strong>Example.</strong> A 2-Multiple Context-Free Grammar. <script type="math/tex">G = (\{H, S\}, \bigcup_{i=1}^2(\{1, 2, 3, 4\}^*)^i, \{g, f\}, \{H \to (\epsilon, \epsilon), H \to g[H], S \to f[H]\}, S)</script> where <script type="math/tex">g[(x_{11}, x_{12})] = (1x_{11}2, 3x_{12}4)</script> and <script type="math/tex">f[(x_{11}, x_{12})] = (x_{11}, x_{12})</script> generates the language <script type="math/tex">\{1^n2^n3^n4^n : n \geq 0\}</script>.</p>

<h1 id="equivalence-with-minimalist-grammars">Equivalence with Minimalist Grammars</h1>

<p>Sections 3.3 to 3.6 prove that MCFG <script type="math/tex">\subseteq_{weak}</script> MG. Together with Michaelis’ (1998) proof that MG <script type="math/tex">\subseteq_{weak}</script> MCFG, this proves that they are weakly equivalent.</p>

<p><strong>Outline of Proof.</strong></p>

<ol>
  <li>Given an MCFG <script type="math/tex">G</script>, construct a MG <script type="math/tex">G'</script> (§3.3)</li>
  <li>Show that <script type="math/tex">L(G) = L(G')</script>. Harkema does this by:
    <ol>
      <li>Defining the notion <em>non-terminal tree</em> (def 5) and then defining the notion of <em>correspondence</em> from a non-terminal tree <script type="math/tex">\tau \in CL(G')</script> to a pair <script type="math/tex">(A, p) \in N \times O</script> where <script type="math/tex">p = (p_1, \ldots, p_{d(A)}) \in L_G(A)</script> (def 6).</li>
      <li>Proving 8 properties of MGs (§3.6.1: thms 1-8)</li>
      <li>Using these properties to prove these two propositions: (§3.6.2)
        <ol>
          <li><strong>Proposition 1.</strong> For every <script type="math/tex">(A, p) \in N \times O</script>, if <script type="math/tex">p \in L_G(A)</script> then there is a <script type="math/tex">\tau \in CL(G')</script> where <script type="math/tex">\tau</script> corresponds to <script type="math/tex">(A,p)</script>.</li>
          <li><strong>Proposition 2.</strong> For every <script type="math/tex">\tau \in CL(G')</script>, if <script type="math/tex">\tau</script> is a non-terminal tree then there is an <script type="math/tex">(A, p) \in N \times O</script> where <script type="math/tex">p \in L_G(A)4</script> and <script type="math/tex">\tau</script> corresponds to <script type="math/tex">(A, p)</script>.</li>
        </ol>
      </li>
      <li>Using propositions 1 and 2 to prove that <script type="math/tex">L(G) = L(G')</script></li>
    </ol>
  </li>
</ol>



    </div><!-- /.container -->

  </body>
</html>
